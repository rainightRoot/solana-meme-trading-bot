# Solana åŒºå—é“¾äº¤æ˜“æœºå™¨äºº

> ä¸€ä¸ªåŸºäº Electron + TypeScript + React çš„ Solana åŒºå—é“¾å®æ—¶ç›‘æ§å’Œè‡ªåŠ¨è·Ÿå•äº¤æ˜“å·¥å…·

[![License](https://img.shields.io/badge/license-MIT-blue.svg)](LICENSE)
[![Node.js](https://img.shields.io/badge/node.js-18.x-green.svg)](https://nodejs.org/)
[![Electron](https://img.shields.io/badge/electron-37.0.0-blue.svg)](https://www.electronjs.org/)
[![TypeScript](https://img.shields.io/badge/typescript-4.5.4-blue.svg)](https://www.typescriptlang.org/)

## ğŸ“‹ ç›®å½•

- [é¡¹ç›®ç®€ä»‹](#é¡¹ç›®ç®€ä»‹)
- [æ ¸å¿ƒåŠŸèƒ½](#æ ¸å¿ƒåŠŸèƒ½)
- [æŠ€æœ¯æ ˆ](#æŠ€æœ¯æ ˆ)
- [å¿«é€Ÿå¼€å§‹](#å¿«é€Ÿå¼€å§‹)
- [æ¶æ„è®¾è®¡](#æ¶æ„è®¾è®¡)
- [å…³é”®é€»è¾‘](#å…³é”®é€»è¾‘)
- [é…ç½®è¯´æ˜](#é…ç½®è¯´æ˜)
- [æµ‹è¯•](#æµ‹è¯•)
- [éƒ¨ç½²](#éƒ¨ç½²)
- [å¸¸è§é—®é¢˜](#å¸¸è§é—®é¢˜)
- [è´¡çŒ®æŒ‡å—](#è´¡çŒ®æŒ‡å—)

## ğŸš€ é¡¹ç›®ç®€ä»‹

è¿™æ˜¯ä¸€ä¸ªä¸“ä¸º Solana åŒºå—é“¾è®¾è®¡çš„æ™ºèƒ½äº¤æ˜“æœºå™¨äººï¼Œå…·å¤‡å®æ—¶ç›‘æ§ã€è‡ªåŠ¨è·Ÿå•ã€æ™ºèƒ½å–å‡ºç­‰åŠŸèƒ½ã€‚é¡¹ç›®é‡‡ç”¨ç°ä»£åŒ–çš„å¤šè¿›ç¨‹æ¶æ„ï¼Œæ”¯æŒé«˜å¹¶å‘å¤„ç†ï¼Œæä¾›å‹å¥½çš„æ¡Œé¢åº”ç”¨ç•Œé¢ã€‚

### ä¸»è¦ç‰¹æ€§

- ğŸ” **å®æ—¶ç›‘æ§**ï¼šç›‘æ§æŒ‡å®šé’±åŒ…çš„ Solana åŒºå—é“¾äº¤æ˜“
- ğŸ¤– **è‡ªåŠ¨è·Ÿå•**ï¼šæ™ºèƒ½è¯†åˆ«äº¤æ˜“æœºä¼šå¹¶è‡ªåŠ¨æ‰§è¡Œè·Ÿå•
- ğŸ’° **æ™ºèƒ½å–å‡º**ï¼šå¤šå±‚çº§å–å‡ºç­–ç•¥ï¼Œæœ€å¤§åŒ–æ”¶ç›Š
- ğŸ—ï¸ **å¤šè¿›ç¨‹æ¶æ„**ï¼šå……åˆ†åˆ©ç”¨å¤šæ ¸ CPUï¼Œæå‡å¤„ç†æ€§èƒ½
- ğŸ“Š **å®æ—¶ç›‘æ§é¢æ¿**ï¼šç›´è§‚çš„æ€§èƒ½ç›‘æ§å’Œç³»ç»ŸçŠ¶æ€æ˜¾ç¤º
- ğŸ”§ **çµæ´»é…ç½®**ï¼šæ”¯æŒå¤šç§é…ç½®é€‰é¡¹ï¼Œé€‚åº”ä¸åŒäº¤æ˜“ç­–ç•¥

## ğŸ¯ æ ¸å¿ƒåŠŸèƒ½

### 1. åŒºå—é“¾ç›‘æ§
- å®æ—¶ç›‘å¬ Solana åŒºå—é“¾æ–°åŒºå—
- è§£æåŒºå—ä¸­çš„äº¤æ˜“æ•°æ®
- è¯†åˆ«ç›®æ ‡é’±åŒ…çš„äº¤æ˜“è¡Œä¸º

### 2. æ™ºèƒ½è·Ÿå•
- è‡ªåŠ¨è¯†åˆ«ä¹°å…¥æœºä¼š
- ä½¿ç”¨ Jupiter èšåˆå™¨è·å–æœ€ä¼˜ä»·æ ¼
- æ”¯æŒæ»‘ç‚¹æ§åˆ¶å’Œäº¤æ˜“ç¡®è®¤

### 3. å¤šå±‚å–å‡ºç­–ç•¥
- **åˆæ¬¡å–å‡º**ï¼šç›ˆåˆ©1.5å€æˆ–äºæŸ50%æ—¶å–å‡º50%
- **äºŒæ¬¡å–å‡º**ï¼šç›ˆåˆ©2å€æˆ–äºæŸ70%æ—¶å–å‡º60%
- **ä¸‰æ¬¡å–å‡º**ï¼šç›ˆåˆ©3å€æˆ–äºæŸ80%æ—¶å…¨éƒ¨å–å‡º

### 4. é£é™©æ§åˆ¶
- æ”¯æŒæ­¢æŸå’Œæ­¢ç›ˆè®¾ç½®
- å›æ’¤ä¿æŠ¤æœºåˆ¶
- äº¤æ˜“é‡‘é¢é™åˆ¶

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

### å‰ç«¯æŠ€æœ¯
- **React 19.1.0** - ç°ä»£åŒ– UI æ¡†æ¶
- **TypeScript 4.5.4** - ç±»å‹å®‰å…¨çš„ JavaScript
- **Ant Design 5.26.3** - ä¼ä¸šçº§ UI ç»„ä»¶åº“
- **Vite 5.4.19** - å¿«é€Ÿæ„å»ºå·¥å…·

### åç«¯æŠ€æœ¯
- **Electron 37.0.0** - è·¨å¹³å°æ¡Œé¢åº”ç”¨æ¡†æ¶
- **Node.js** - JavaScript è¿è¡Œæ—¶
- **Solana Web3.js 1.98.2** - Solana åŒºå—é“¾äº¤äº’åº“
- **Jupiter API 6.0.44** - å»ä¸­å¿ƒåŒ–äº¤æ˜“èšåˆå™¨

### æ•°æ®å­˜å‚¨
- **SQLite3 5.1.7** - è½»é‡çº§å…³ç³»å‹æ•°æ®åº“
- **Electron Store 8** - é…ç½®æ–‡ä»¶å­˜å‚¨

### å¼€å‘å·¥å…·
- **Electron Forge 7.8.1** - åº”ç”¨æ‰“åŒ…å’Œåˆ†å‘
- **Vitest 3.2.4** - ç°ä»£åŒ–æµ‹è¯•æ¡†æ¶
- **ESLint 8.57.1** - ä»£ç è´¨é‡æ£€æŸ¥

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚

- Node.js 22.x æˆ–æ›´é«˜ç‰ˆæœ¬
- npm åŒ…ç®¡ç†å™¨
- Git

### å®‰è£…æ­¥éª¤

1. **å…‹éš†é¡¹ç›®**
   ```bash
   git clone https://github.com/rainightRoot/solana-meme-trading-bot.git
   cd solana-meme-trading-bot
   ```

2. **å®‰è£…ä¾èµ–**
   ```bash
   npm install
   ```


3. **å¯åŠ¨å¼€å‘ç¯å¢ƒ**
   ```bash
   npm run start
   ```

### åŸºæœ¬ä½¿ç”¨

1. **é…ç½®é’±åŒ…**
   - åœ¨è®¾ç½®é¢æ¿ä¸­å¯¼å…¥ä½ çš„ Solana é’±åŒ…ç§é’¥
   - è®¾ç½®è¦ç›‘æ§çš„ç›®æ ‡é’±åŒ…åœ°å€
   - è®¾ç½®Solana RPC(å…¬å…±rpcä¼šæœ‰é™åˆ¶ï¼Œå»ºè®®ä½¿ç”¨ä»˜è´¹rpcï¼Œæˆ–è€…è‡ªå·±æ­å»º)

2. **é…ç½®äº¤æ˜“å‚æ•°**
   - è®¾ç½®è·Ÿå•é‡‘é¢
   - é…ç½®æ»‘ç‚¹å®¹å¿åº¦
   - è®¾ç½®å–å‡ºç­–ç•¥å‚æ•°

3. **å¯åŠ¨ç›‘æ§**
   - ç‚¹å‡»"å¼€å§‹ç›‘æ§"æŒ‰é’®
   - ç³»ç»Ÿå°†è‡ªåŠ¨å¼€å§‹ç›‘æ§åŒºå—é“¾äº¤æ˜“

## ğŸ—ï¸ æ¶æ„è®¾è®¡

### æ•´ä½“æ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Solana åŒºå—é“¾äº¤æ˜“æœºå™¨äºº                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸ–¥ï¸  æ¸²æŸ“è¿›ç¨‹ (Renderer Process)                             â”‚
â”‚  â”œâ”€â”€ React UI ç•Œé¢                                           â”‚
â”‚  â”œâ”€â”€ å®æ—¶ç›‘æ§é¢æ¿                                             â”‚
â”‚  â””â”€â”€ é…ç½®ç®¡ç†ç•Œé¢                                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  âš™ï¸  ä¸»è¿›ç¨‹ (Main Process)                                   â”‚
â”‚  â”œâ”€â”€ ğŸ“± åº”ç”¨å±‚ (app/)                                        â”‚
â”‚  â”‚   â”œâ”€â”€ IPC é€šä¿¡å¤„ç†                                         â”‚
â”‚  â”‚   â””â”€â”€ åº”ç”¨ç”Ÿå‘½å‘¨æœŸç®¡ç†                                       â”‚
â”‚  â”œâ”€â”€ ğŸ¯ ä¸šåŠ¡æ¨¡å—å±‚ (modules/)                                â”‚
â”‚  â”‚   â”œâ”€â”€ äº¤æ˜“æ¨¡å— (trading/)                                 â”‚
â”‚  â”‚   â”œâ”€â”€ ç›‘æ§æ¨¡å— (monitoring/)                              â”‚
â”‚  â”‚   â”œâ”€â”€ é˜Ÿåˆ—æ¨¡å— (queue/)                                   â”‚
â”‚  â”‚   â””â”€â”€ è¿›ç¨‹æ¨¡å— (process/)                                 â”‚
â”‚  â”œâ”€â”€ ğŸ”§ åŸºç¡€è®¾æ–½å±‚ (infrastructure/)                          â”‚
â”‚  â”‚   â”œâ”€â”€ é…ç½®ç®¡ç† (config/)                                  â”‚
â”‚  â”‚   â”œâ”€â”€ ç½‘ç»œå±‚ (network/)                                   â”‚
â”‚  â”‚   â””â”€â”€ æ—¥å¿—ç³»ç»Ÿ (logging/)                                 â”‚
â”‚  â””â”€â”€ ğŸ”— å…±äº«å±‚ (shared/)                                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸ”„ å­è¿›ç¨‹æ±  (Child Processes)                               â”‚
â”‚  â”œâ”€â”€ è¿›ç¨‹1: åŒºå—é“¾æ•°æ®å¤„ç†                                     â”‚
â”‚  â”œâ”€â”€ è¿›ç¨‹2: äº¤æ˜“åˆ†æå¤„ç†                                       â”‚
â”‚  â””â”€â”€ è¿›ç¨‹N: åŠ¨æ€æ‰©å±•...                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### åˆ†å±‚æ¶æ„è¯¦è§£

#### 1. åº”ç”¨å±‚ (app/)
**èŒè´£**ï¼šåº”ç”¨ç¨‹åºå…¥å£å’Œé¡¶å±‚é€»è¾‘
- **ipcHandlers.ts** - å¤„ç†æ¸²æŸ“è¿›ç¨‹ä¸ä¸»è¿›ç¨‹çš„é€šä¿¡
- **update.ts** - åº”ç”¨ç¨‹åºè‡ªåŠ¨æ›´æ–°é€»è¾‘

#### 2. ä¸šåŠ¡æ¨¡å—å±‚ (modules/)
**èŒè´£**ï¼šæ ¸å¿ƒä¸šåŠ¡é€»è¾‘å®ç°

##### äº¤æ˜“æ¨¡å— (trading/)
- **tradeExecutor.ts** - äº¤æ˜“æ‰§è¡Œå™¨ï¼Œè´Ÿè´£ä¹°å…¥å–å‡ºæ“ä½œ
- **walletManager.ts** - é’±åŒ…ç®¡ç†ï¼Œå¤„ç†ç§é’¥å’Œç­¾å

##### ç›‘æ§æ¨¡å— (monitoring/)
- **producer.ts** - åŒºå—ç”Ÿäº§è€…ï¼Œç›‘å¬ Solana åŒºå—é“¾
- **transactionProcessor.ts** - äº¤æ˜“å¤„ç†å™¨ï¼Œåˆ†æäº¤æ˜“æ•°æ®

##### é˜Ÿåˆ—æ¨¡å— (queue/)
- **persistentQueue.ts** - æŒä¹…åŒ–é˜Ÿåˆ—ï¼Œä¿è¯æ•°æ®ä¸ä¸¢å¤±
- **queueProxy.ts** - é˜Ÿåˆ—ä»£ç†ï¼Œç»Ÿä¸€é˜Ÿåˆ—è®¿é—®æ¥å£
- **ConsumerManager.ts** - æ¶ˆè´¹è€…ç®¡ç†å™¨ï¼Œç®¡ç†å¤šä¸ªæ¶ˆè´¹è€…

##### è¿›ç¨‹æ¨¡å— (process/)
- **processManager.ts** - è¿›ç¨‹ç®¡ç†å™¨ï¼Œç®¡ç†å­è¿›ç¨‹æ± 

#### 3. åŸºç¡€è®¾æ–½å±‚ (infrastructure/)
**èŒè´£**ï¼šæä¾›åŸºç¡€æœåŠ¡æ”¯æŒ

##### é…ç½®ç®¡ç† (config/)
- **configManager.ts** - ç»Ÿä¸€é…ç½®ç®¡ç†

##### ç½‘ç»œå±‚ (network/)
- **fetch.ts** - ç½‘ç»œè¯·æ±‚å·¥å…·
- **price.ts** - ä»·æ ¼æŸ¥è¯¢æœåŠ¡

##### æ—¥å¿—ç³»ç»Ÿ (logging/)
- **logger.ts** - ç»Ÿä¸€æ—¥å¿—ç®¡ç†

#### 4. å…±äº«å±‚ (shared/)
**èŒè´£**ï¼šå…¬å…±ç±»å‹å®šä¹‰å’Œå·¥å…·å‡½æ•°


### æ•°æ®æµæ¶æ„

```
Solana åŒºå—é“¾
    â†“
producer.ts (æ§½ä½ç›‘å¬)
    â†“
queueProxy (é˜Ÿåˆ—ç®¡ç†)
    â†“
ConsumerManager (æ¶ˆè´¹è€…ç®¡ç†)
    â†“
transactionProcessor (äº¤æ˜“å¤„ç†å™¨)
    â†“
ProcessManager (è¿›ç¨‹ç®¡ç†å™¨)
    â†“
å­è¿›ç¨‹æ±  (å¹¶è¡Œå¤„ç†)
    â†“
åŒºå—é“¾æ•°æ®å¤„ç† â†’ äº¤æ˜“æœºä¼šè¯†åˆ«
    â†“
è¿”å›ä¸»è¿›ç¨‹
    â†“
tradeExecutor (è·Ÿå•æ‰§è¡Œ)
    â†“
walletManager (é’±åŒ…æ“ä½œ)
    â†“
Jupiter API (äº¤æ˜“æ‰§è¡Œ)
    â†“
äº¤æ˜“ç¡®è®¤
```

## ğŸ”§ å…³é”®é€»è¾‘

### 1. åŒºå—é“¾ç›‘æ§æµç¨‹

#### ç”Ÿäº§è€…ç›‘å¬ (producer.ts)
```typescript
// ç›‘å¬ Solana åŒºå—é“¾æ–°æ§½ä½
async function monitorSlots() {
  connection.onSlotChange((slotInfo) => {
    // å°†æ–°æ§½ä½ä¿¡æ¯æ”¾å…¥é˜Ÿåˆ—
    queueProxy.enqueue('slots', {
      slot: slotInfo.slot,
      timestamp: Date.now()
    });
  });
}
```

#### æ¶ˆè´¹è€…å¤„ç† (ConsumerManager.ts)
```typescript
// äº‹ä»¶é©±åŠ¨çš„æ¶ˆè´¹è€…æ¶æ„
async function processMessage(message: any) {
  if (message.type === 'slot') {
    // æäº¤åˆ°å­è¿›ç¨‹å¤„ç†
    const result = await processManager.submitTask('processSlot', {
      slot: message.slot
    });
    
    // å¤„ç†è¿”å›ç»“æœ
    if (result.tradingOpportunities.length > 0) {
      await handleTradingOpportunities(result.tradingOpportunities);
    }
  }
}
```

### 2. å¤šè¿›ç¨‹å¤„ç†æ¶æ„

#### è¿›ç¨‹ç®¡ç†å™¨ (processManager.ts)
```typescript
class ProcessManager {
  // ä»»åŠ¡åˆ†å‘åˆ°æœ€ç©ºé—²çš„è¿›ç¨‹
  async submitTask(taskType: string, taskData: any): Promise<ProcessResult> {
    const availableProcess = this.getAvailableProcess();
    
    return new Promise((resolve, reject) => {
      const taskId = this.generateTaskId();
      
      // è®¾ç½®è¶…æ—¶å¤„ç†
      const timeout = setTimeout(() => {
        reject(new Error('ä»»åŠ¡å¤„ç†è¶…æ—¶'));
      }, this.processTimeout);
      
      // å‘é€ä»»åŠ¡åˆ°å­è¿›ç¨‹
      availableProcess.process.send({
        id: taskId,
        type: taskType,
        data: taskData
      });
      
      // ç­‰å¾…å­è¿›ç¨‹è¿”å›ç»“æœ
      this.pendingTasks.set(taskId, { resolve, reject, timeout });
    });
  }
}


### 3. æ™ºèƒ½äº¤æ˜“æ‰§è¡Œ

#### è·Ÿå•é€»è¾‘ (tradeExecutor.ts)
```typescript
async function followUpBuy(tokenMint: string, solAmount: number) {
  try {
    // 1. è·å– Jupiter æŠ¥ä»·
    const quote = await getQuote(
      SOL_MINT,           // è¾“å…¥ä»£å¸ (SOL)
      new PublicKey(tokenMint), // è¾“å‡ºä»£å¸
      solAmount * LAMPORTS_PER_SOL,
      configManager.getNested('solana.slippageBps', 50)
    );
    
    if (!quote) {
      throw new Error('æ— æ³•è·å–æœ‰æ•ˆæŠ¥ä»·');
    }
    
    // 2. æ‰§è¡Œäº¤æ˜“
    const txSignature = await executeSwap(quote);
    
    if (txSignature) {
      // 3. è®°å½•äº¤æ˜“åˆ°æ•°æ®åº“
      await recordTrade({
        signature: txSignature,
        tokenMint,
        solAmount,
        type: 'buy',
        timestamp: Date.now()
      });
      
      logger.info(`è·Ÿå•ä¹°å…¥æˆåŠŸ: ${txSignature}`);
      return txSignature;
    }
  } catch (error) {
    logger.error('è·Ÿå•ä¹°å…¥å¤±è´¥:', error);
    throw error;
  }
}
```

#### æ™ºèƒ½å–å‡ºç­–ç•¥
```typescript
async function checkSellConditions(position: Position) {
  const currentPrice = await getTokenPrice(position.tokenMint);
  const profitRatio = currentPrice / position.buyPrice;
  const timeSinceHold = Date.now() - position.createdAt;
  
  // è·å–å½“å‰ç­–ç•¥é…ç½®
  const strategy = getSellStrategy(position.sellStage);
  
  // æ£€æŸ¥å–å‡ºæ¡ä»¶
  const shouldSell = 
    profitRatio >= strategy.profitRatio ||  // è¾¾åˆ°ç›ˆåˆ©ç›®æ ‡
    profitRatio <= strategy.lossRatio ||    // è¾¾åˆ°æ­¢æŸçº¿
    (profitRatio <= strategy.pullbackRatio && // å›æ’¤ä¿æŠ¤
     timeSinceHold >= strategy.pullbackTimeMinutes * 60000);
  
  if (shouldSell) {
    await executeSell(position, strategy.sellRatio);
  }
}
```

### 4. æ€§èƒ½ä¼˜åŒ–æœºåˆ¶

#### äº‹ä»¶é©±åŠ¨æ¶ˆè´¹è€…
```typescript
// é¿å… CPU å¿™ç­‰å¾…çš„äº‹ä»¶é©±åŠ¨æœºåˆ¶
async function waitForNewMessage(state: ConsumerState): Promise<void> {
  return new Promise((resolve) => {
    const timeout = setTimeout(() => {
      resolve(); // 5ç§’è¶…æ—¶
    }, 5000);
    
    // ç›‘å¬é˜Ÿåˆ—æ–°æ¶ˆæ¯äº‹ä»¶
    queueProxy.once('newMessage', () => {
      clearTimeout(timeout);
      resolve();
    });
  });
}
```

#### æ‰¹é‡ç£ç›˜æŒä¹…åŒ–
```typescript
class PersistentQueue {
  private markDirtyAndSchedulePersist() {
    this.isDirty = true;
    this.operationCount++;
    
    // è¾¾åˆ°æ‰¹å¤„ç†å¤§å°æ—¶ç«‹å³æŒä¹…åŒ–
    if (this.operationCount >= this.MAX_BATCH_SIZE) {
      this.forcePersist();
      return;
    }
    
    // å¦åˆ™å»¶è¿Ÿ1ç§’æ‰¹é‡æŒä¹…åŒ–
    if (this.persistTimer) clearTimeout(this.persistTimer);
    this.persistTimer = setTimeout(() => {
      this.forcePersist();
    }, this.PERSIST_DELAY);
  }
}


## âš™ï¸ é…ç½®è¯´æ˜

### ä¸»è¦é…ç½®æ–‡ä»¶

é¡¹ç›®ä½¿ç”¨ `electron-store` è¿›è¡Œé…ç½®ç®¡ç†ï¼Œé…ç½®æ–‡ä»¶è‡ªåŠ¨ä¿å­˜åœ¨ç”¨æˆ·ç›®å½•ä¸‹ã€‚

#### åŸºç¡€é…ç½®
```typescript
{
  "solana": {
    "rpcUrl": "https://api.mainnet-beta.solana.com",
    "commitment": "confirmed",
    "timeout": 30000,
    "monitoredWallets": [],  // ç›‘æ§çš„é’±åŒ…åœ°å€
    "privateKey": "",        // äº¤æ˜“é’±åŒ…ç§é’¥
    "followAmount": 0.01,    // è·Ÿå•é‡‘é¢ (SOL)
    "slippageBps": 50        // æ»‘ç‚¹ (0.5%)
  }
}
```

#### é˜Ÿåˆ—é…ç½®
```typescript
{
  "queue": {
    "maxSize": 1000,         // é˜Ÿåˆ—æœ€å¤§å¤§å°
    "consumerCount": 3,      // æ¶ˆè´¹è€…æ•°é‡
    "retryAttempts": 3,      // é‡è¯•æ¬¡æ•°
    "maxProcesses": 2,       // æœ€å¤§å­è¿›ç¨‹æ•°
    "processTimeout": 90000  // è¿›ç¨‹è¶…æ—¶æ—¶é—´
  }
}
```

#### å–å‡ºç­–ç•¥é…ç½®
```typescript
{
  "sellStrategy": {
    "enabled": true,
    "strategies": {
      "initial": {
        "enabled": true,
        "conditions": {
          "profitRatio": 1.5,      // ç›ˆåˆ©1.5å€
          "lossRatio": 0.5,        // äºæŸ50%
          "pullbackRatio": 0.8,    // å›æ’¤åˆ°80%
          "pullbackTimeMinutes": 10 // å›æ’¤æ—¶é—´10åˆ†é’Ÿ
        },
        "sellRatio": 0.5           // å–å‡º50%
      },
      "second": {
        "enabled": true,
        "conditions": {
          "profitRatio": 2.0,      // ç›ˆåˆ©2å€
          "lossRatio": 0.3,        // äºæŸ70%
          "pullbackRatio": 0.7,    // å›æ’¤åˆ°70%
          "pullbackTimeMinutes": 15
        },
        "sellRatio": 0.6           // å–å‡º60%
      },
      "third": {
        "enabled": true,
        "conditions": {
          "profitRatio": 3.0,      // ç›ˆåˆ©3å€
          "lossRatio": 0.2,        // äºæŸ80%
          "pullbackRatio": 0.6,    // å›æ’¤åˆ°60%
          "pullbackTimeMinutes": 20
        },
        "sellRatio": 1.0           // å…¨éƒ¨å–å‡º
      }
    }
  }
}
```



## ğŸ§ª æµ‹è¯•

### æµ‹è¯•å‘½ä»¤

```bash
# è¿è¡Œæ‰€æœ‰æµ‹è¯•
npm run test

# å¿«é€Ÿæµ‹è¯• (æ ¸å¿ƒåŠŸèƒ½)
npm run test:quick

# å®Œæ•´æµ‹è¯•å¥—ä»¶
npm run test:full

# ç³»ç»Ÿå¥åº·æ£€æŸ¥
npm run test:health

# ç”Ÿæˆæµ‹è¯•æ•°æ®
npm run test:data

# æµ‹è¯•å–å‡ºç­–ç•¥
npm run test:strategy

# ç³»ç»Ÿç›‘æ§æµ‹è¯•
npm run test:monitor
```

### æµ‹è¯•è¦†ç›–èŒƒå›´

#### 1. å•å…ƒæµ‹è¯•
- é…ç½®ç®¡ç†å™¨æµ‹è¯•
- é˜Ÿåˆ—æ“ä½œæµ‹è¯•
- äº¤æ˜“æ‰§è¡Œå™¨æµ‹è¯•
- é’±åŒ…ç®¡ç†å™¨æµ‹è¯•

#### 2. é›†æˆæµ‹è¯•
- ç”Ÿäº§è€…-æ¶ˆè´¹è€…ç³»ç»Ÿæµ‹è¯•
- å¤šè¿›ç¨‹é€šä¿¡æµ‹è¯•
- æ•°æ®åº“æ“ä½œæµ‹è¯•

#### 3. ç«¯åˆ°ç«¯æµ‹è¯•
- å®Œæ•´äº¤æ˜“æµç¨‹æµ‹è¯•
- å–å‡ºç­–ç•¥æµ‹è¯•
- ç³»ç»Ÿå¥åº·æ£€æŸ¥

#### 4. æ€§èƒ½æµ‹è¯•
- é«˜å¹¶å‘å¤„ç†æµ‹è¯•
- å†…å­˜æ³„æ¼æ£€æµ‹
- CPU ä½¿ç”¨ç‡æµ‹è¯•

### æµ‹è¯•ç¤ºä¾‹

```typescript
// ç³»ç»Ÿå¥åº·æ£€æŸ¥ç¤ºä¾‹
describe('ç³»ç»Ÿå¥åº·æ£€æŸ¥', () => {
  it('åº”è¯¥é€šè¿‡æ‰€æœ‰å¥åº·æ£€æŸ¥é¡¹', async () => {
    const healthCheck = new SystemMonitor();
    const result = await healthCheck.runHealthCheck();
    
    expect(result.database).toBe(true);
    expect(result.blockchain).toBe(true);
    expect(result.wallet).toBe(true);
    expect(result.overall).toBe(true);
  });
});
```

## ğŸ“¦ éƒ¨ç½²

### å¼€å‘ç¯å¢ƒéƒ¨ç½²

```bash
# å¯åŠ¨å¼€å‘æœåŠ¡å™¨
npm run start

# æ„å»ºå¼€å‘ç‰ˆæœ¬
npm run build
```

### ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²

```bash
# æ„å»ºç”Ÿäº§ç‰ˆæœ¬
npm run build

# æ‰“åŒ…åº”ç”¨ç¨‹åº
npm run package

# åˆ›å»ºå®‰è£…åŒ…
npm run make

# å‘å¸ƒåˆ° GitHub Releases
npm run publish
```

### æ”¯æŒçš„å¹³å°

- **Windows** - `.exe` å®‰è£…åŒ…
- **macOS** - `.dmg` å’Œ `.zip` æ ¼å¼
- **Linux** - `.deb` å’Œ `.rpm` åŒ…



## ğŸ”§ å¸¸è§é—®é¢˜

### Q1: åº”ç”¨å¯åŠ¨å¤±è´¥ï¼Œæç¤º"æ¨¡å—æœªæ‰¾åˆ°"
**A**: ç¡®ä¿å·²æ­£ç¡®å®‰è£…æ‰€æœ‰ä¾èµ–ï¼š
```bash
rm -rf node_modules
npm install
```

### Q2: åŒºå—é“¾è¿æ¥å¤±è´¥
**A**: æ£€æŸ¥ç½‘ç»œè¿æ¥å’Œ RPC åœ°å€é…ç½®ï¼š
```bash
# æµ‹è¯• RPC è¿æ¥
curl -X POST -H "Content-Type: application/json" \
  -d '{"jsonrpc":"2.0","id":1,"method":"getVersion"}' \
  https://api.mainnet-beta.solana.com
```

### Q3: äº¤æ˜“æ‰§è¡Œå¤±è´¥
**A**: æ£€æŸ¥ä»¥ä¸‹å‡ ç‚¹ï¼š
- é’±åŒ…æ˜¯å¦æœ‰è¶³å¤Ÿçš„ SOL ä½™é¢
- ç§é’¥æ˜¯å¦æ­£ç¡®
- æ»‘ç‚¹è®¾ç½®æ˜¯å¦åˆç†
- ç½‘ç»œæ˜¯å¦ç¨³å®š

### Q4: æ€§èƒ½é—®é¢˜ï¼ŒCPU ä½¿ç”¨ç‡è¿‡é«˜
**A**: è°ƒæ•´ä»¥ä¸‹é…ç½®ï¼š
```json
{
  "queue": {
    "consumerCount": 2,    // å‡å°‘æ¶ˆè´¹è€…æ•°é‡
    "maxProcesses": 1      // å‡å°‘å­è¿›ç¨‹æ•°é‡
  }
}
```

### Q5: æ•°æ®åº“é”™è¯¯
**A**: åˆ é™¤å¹¶é‡æ–°åˆ›å»ºæ•°æ®åº“ï¼š
```bash
# åˆ é™¤æ•°æ®åº“æ–‡ä»¶
rm -rf ~/Library/Application\ Support/solana-meme-trading-bot/
# é‡æ–°å¯åŠ¨åº”ç”¨
npm run start
```

## ğŸ¤ è´¡çŒ®æŒ‡å—

### å¼€å‘æµç¨‹

1. **Fork é¡¹ç›®**
   ```bash
   git clone https://github.com/rainightRoot/solana-meme-trading-bot.git
   cd solana-meme-trading-bot
   ```

2. **åˆ›å»ºåŠŸèƒ½åˆ†æ”¯**
   ```bash
   git checkout -b feature/your-feature-name
   ```

3. **å¼€å‘å’Œæµ‹è¯•**
   ```bash
   npm run start    # å¯åŠ¨å¼€å‘ç¯å¢ƒ
   npm run test     # è¿è¡Œæµ‹è¯•
   npm run lint     # ä»£ç æ£€æŸ¥
   ```

4. **æäº¤ä»£ç **
   ```bash
   git add .
   git commit -m "feat: æ·»åŠ æ–°åŠŸèƒ½"
   git push origin feature/your-feature-name
   ```

5. **åˆ›å»º Pull Request**

### ä»£ç è§„èŒƒ

- ä½¿ç”¨ TypeScript ç¼–å†™ä»£ç 
- éµå¾ª ESLint é…ç½®
- ç¼–å†™å•å…ƒæµ‹è¯•
- æ·»åŠ é€‚å½“çš„æ³¨é‡Š
- éµå¾ª Git æäº¤è§„èŒƒ

### æäº¤è§„èŒƒ

```bash
feat: æ–°åŠŸèƒ½
fix: ä¿®å¤bug
docs: æ–‡æ¡£æ›´æ–°
style: ä»£ç æ ¼å¼è°ƒæ•´
refactor: ä»£ç é‡æ„
test: æµ‹è¯•ç›¸å…³
chore: æ„å»ºè¿‡ç¨‹æˆ–è¾…åŠ©å·¥å…·çš„å˜åŠ¨
```

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ - æŸ¥çœ‹ [LICENSE](LICENSE) æ–‡ä»¶äº†è§£è¯¦æƒ…ã€‚

## ğŸ“ è”ç³»æˆ‘ä»¬

- **é¡¹ç›®ä¸»é¡µ**: https://github.com/rainightRoot/solana-meme-trading-bot
- **é—®é¢˜åé¦ˆ**: https://github.com/rainightRoot/solana-meme-trading-bot/issues
- **X**: [@Rainight](https://x.com/0xrainight?from=tool) 

## ğŸ™ è‡´è°¢

æ„Ÿè°¢ä»¥ä¸‹å¼€æºé¡¹ç›®å’ŒæœåŠ¡ï¼š

- [Solana](https://solana.com/) - é«˜æ€§èƒ½åŒºå—é“¾å¹³å°
- [Jupiter](https://jup.ag/) - å»ä¸­å¿ƒåŒ–äº¤æ˜“èšåˆå™¨
- [Electron](https://www.electronjs.org/) - è·¨å¹³å°æ¡Œé¢åº”ç”¨æ¡†æ¶
- [React](https://reactjs.org/) - ç”¨æˆ·ç•Œé¢åº“
- [TypeScript](https://www.typescriptlang.org/) - ç±»å‹å®‰å…¨çš„ JavaScript

---

<div align="center">
  <p>â­ å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹ä½ æœ‰å¸®åŠ©ï¼Œè¯·ç»™å®ƒä¸€ä¸ªæ˜Ÿæ ‡ï¼</p>
  <p>Made with â¤ï¸ by <a href="https://x.com/0xrainight?from=tool" target="_blank">@Rainight</a></p>
</div> 